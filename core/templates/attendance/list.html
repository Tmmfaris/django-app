{% extends "base.html" %}
{% block content %}

<div class="card shadow-sm">
<div class="card-body">

<h4 class="mb-3">Attendance Entry</h4>

<form method="post">
{% csrf_token %}

<div class="row mb-3">

<div class="col-md-4">
<label class="form-label">Subject</label>
<select name="subject" class="form-select" required>
{% for sub in subjects %}
<option value="{{ sub.id }}">{{ sub.name }}</option>
{% endfor %}
</select>
</div>

<div class="col-md-3">
<label class="form-label">Date</label>
<input type="date" name="date" value="{{ today }}" class="form-control">
</div>

<div class="col-md-3 d-flex align-items-end">
<button class="btn btn-success">
Save Attendance
</button>
</div>

</div>

<table class="table table-bordered table-hover">

<thead class="table-dark">
<tr>
<th width="80">Roll</th>
<th>Name</th>
<th>Email</th>
<th width="120">Present</th>
</tr>
</thead>

<tbody>

{% for s in students %}
<tr>
<td>{{ s.roll_number }}</td>
<td>{{ s.name }}</td>
<td>{{ s.email }}</td>
<td class="text-center">
<input type="checkbox" name="student_{{ s.id }}" class="form-check-input" checked>
</td>
</tr>
{% empty %}
<tr>
<td colspan="4" class="text-center text-muted">
No students found
</td>
</tr>
{% endfor %}

</tbody>
</table>

</form>

</div>
</div>

{% endblock %}
